2019-05-17 10:53:04,773 INFO org.mongodb.driver.connection [Thread-3] Closed connection [connectionId{localValue:2, serverValue:427}] to localhost:27017 because the pool has been closed.
2019-05-17 10:53:17,134 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Starting CoffeeShopApplication on wsmb-523 with PID 18408 (D:\Workspace\CoffeeShopApplication\target\classes started by sago0519 in D:\Workspace\CoffeeShopApplication)
2019-05-17 10:53:17,139 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] No active profile set, falling back to default profiles: default
2019-05-17 10:53:19,522 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2019-05-17 10:53:19,523 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-17 10:53:19,670 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2019-05-17 10:53:20,434 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-05-17 10:53:20,434 INFO org.mongodb.driver.cluster [main] Adding discovered server localhost:27017 to client view of cluster
2019-05-17 10:53:20,513 INFO org.mongodb.driver.connection [cluster-ClusterId{value='5cde4548f8a0d147e82385d8', description='null'}-localhost:27017] Opened connection [connectionId{localValue:1, serverValue:428}] to localhost:27017
2019-05-17 10:53:20,518 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde4548f8a0d147e82385d8', description='null'}-localhost:27017] Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 9]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3379500}
2019-05-17 10:53:20,519 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde4548f8a0d147e82385d8', description='null'}-localhost:27017] Discovered cluster type of STANDALONE
2019-05-17 10:53:20,791 INFO org.mongodb.driver.connection [main] Opened connection [connectionId{localValue:2, serverValue:429}] to localhost:27017
2019-05-17 10:53:21,970 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence in collection: dbSequence
2019-05-17 10:53:21,980 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: { } in db.collection: coffeeshop.dbSequence
2019-05-17 10:53:22,056 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Started CoffeeShopApplication in 5.719 seconds (JVM running for 7.094)
2019-05-17 10:53:42,844 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8103-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-17 10:53:42,872 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-2] authenticating the JWT token in header 
2019-05-17 10:53:42,872 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] validating JWT token in header
2019-05-17 10:53:43,015 ERROR com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] JWT token verification failed dut to: JWT expired at 2019-05-16T19:23:12Z. Current time: 2019-05-17T10:53:43Z, a difference of 55831009 milliseconds.  Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2019-05-16T19:23:12Z. Current time: 2019-05-17T10:53:43Z, a difference of 55831009 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:385)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider.validateToken(AuthenticationTokenProvider.java:75)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:30)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 10:53:43,042 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-2] authenticating the JWT token in header 
2019-05-17 10:53:43,043 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] validating JWT token in header
2019-05-17 10:53:43,051 ERROR com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] JWT token verification failed dut to: JWT expired at 2019-05-16T19:23:12Z. Current time: 2019-05-17T10:53:43Z, a difference of 55831051 milliseconds.  Allowed clock skew: 0 milliseconds.
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2019-05-16T19:23:12Z. Current time: 2019-05-17T10:53:43Z, a difference of 55831051 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:385)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider.validateToken(AuthenticationTokenProvider.java:75)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:30)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:394)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:253)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:175)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 10:53:48,311 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-3] authenticating the JWT token in header 
2019-05-17 10:53:48,361 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationController [http-nio-8103-exec-3] Authenticating User 
2019-05-17 10:53:48,455 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 10:53:48,456 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 10:53:48,461 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-3] find user by name santu
2019-05-17 10:53:48,531 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 10:53:48,531 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 10:53:48,533 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-3] creating the token for JWT Auth
2019-05-17 10:54:01,493 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-4] authenticating the JWT token in header 
2019-05-17 10:54:01,493 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-4] validating JWT token in header
2019-05-17 10:54:01,500 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 10:54:01,501 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 10:54:01,502 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-4] find user by name santu
2019-05-17 10:54:01,507 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-4] list all orders called
2019-05-17 10:54:01,523 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] find using query: { } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.Order in collection: order
2019-05-17 10:55:17,265 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-7] authenticating the JWT token in header 
2019-05-17 10:55:17,265 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-7] validating JWT token in header
2019-05-17 10:55:17,270 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 10:55:17,270 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 10:55:17,272 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-7] find user by name santu
2019-05-17 10:55:17,412 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-7] authenticating the JWT token in header 
2019-05-17 10:55:17,412 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-7] validating JWT token in header
2019-05-17 10:55:17,415 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 10:55:17,416 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 10:55:17,417 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-7] find user by name santu
2019-05-17 10:56:21,312 INFO org.mongodb.driver.connection [Thread-3] Closed connection [connectionId{localValue:2, serverValue:429}] to localhost:27017 because the pool has been closed.
2019-05-17 10:57:25,517 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Starting CoffeeShopApplication on wsmb-523 with PID 21708 (D:\Workspace\CoffeeShopApplication\target\classes started by sago0519 in D:\Workspace\CoffeeShopApplication)
2019-05-17 10:57:25,521 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] No active profile set, falling back to default profiles: default
2019-05-17 10:57:27,755 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2019-05-17 10:57:27,756 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-17 10:57:27,926 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2019-05-17 10:57:28,770 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-05-17 10:57:28,770 INFO org.mongodb.driver.cluster [main] Adding discovered server localhost:27017 to client view of cluster
2019-05-17 10:57:28,863 INFO org.mongodb.driver.connection [cluster-ClusterId{value='5cde4640f8a0d154cce61619', description='null'}-localhost:27017] Opened connection [connectionId{localValue:1, serverValue:430}] to localhost:27017
2019-05-17 10:57:28,868 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde4640f8a0d154cce61619', description='null'}-localhost:27017] Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 9]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3837400}
2019-05-17 10:57:28,870 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde4640f8a0d154cce61619', description='null'}-localhost:27017] Discovered cluster type of STANDALONE
2019-05-17 10:57:29,186 INFO org.mongodb.driver.connection [main] Opened connection [connectionId{localValue:2, serverValue:431}] to localhost:27017
2019-05-17 10:57:30,372 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence in collection: dbSequence
2019-05-17 10:57:30,381 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: { } in db.collection: coffeeshop.dbSequence
2019-05-17 10:57:30,457 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Started CoffeeShopApplication in 5.554 seconds (JVM running for 7.087)
2019-05-17 10:57:36,588 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8103-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-17 10:57:36,646 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-1] authenticating the JWT token in header 
2019-05-17 10:57:36,646 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-1] validating JWT token in header
2019-05-17 10:57:36,804 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 10:57:36,805 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 10:57:36,813 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-1] find user by name santu
2019-05-17 10:57:37,026 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-1] update order null
2019-05-17 10:57:37,045 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 10:57:37,073 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] Saving Document containing fields: [_id, items, customer, date, _class]
2019-05-17 10:58:26,042 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-3] authenticating the JWT token in header 
2019-05-17 10:58:32,850 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-3] validating JWT token in header
2019-05-17 10:58:32,855 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 10:58:32,855 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 10:58:32,857 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-3] find user by name santu
2019-05-17 10:58:32,859 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-3] update order null
2019-05-17 10:58:32,860 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 10:58:32,862 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] Saving Document containing fields: [_id, items, customer, date, _class]
2019-05-17 10:58:49,539 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-4] authenticating the JWT token in header 
2019-05-17 10:58:49,539 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-4] validating JWT token in header
2019-05-17 10:58:49,544 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 10:58:49,545 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 10:58:49,546 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-4] find user by name santu
2019-05-17 10:58:49,548 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-4] update order null
2019-05-17 10:58:49,549 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 10:58:49,551 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] Saving Document containing fields: [_id, items, customer, date, _class]
2019-05-17 10:59:28,674 INFO org.mongodb.driver.connection [Thread-3] Closed connection [connectionId{localValue:2, serverValue:431}] to localhost:27017 because the pool has been closed.
2019-05-17 10:59:34,085 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Starting CoffeeShopApplication on wsmb-523 with PID 21128 (D:\Workspace\CoffeeShopApplication\target\classes started by sago0519 in D:\Workspace\CoffeeShopApplication)
2019-05-17 10:59:34,090 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] No active profile set, falling back to default profiles: default
2019-05-17 10:59:36,358 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2019-05-17 10:59:36,358 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-17 10:59:36,506 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2019-05-17 10:59:37,385 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-05-17 10:59:37,385 INFO org.mongodb.driver.cluster [main] Adding discovered server localhost:27017 to client view of cluster
2019-05-17 10:59:37,464 INFO org.mongodb.driver.connection [cluster-ClusterId{value='5cde46c1f8a0d1528842857b', description='null'}-localhost:27017] Opened connection [connectionId{localValue:1, serverValue:432}] to localhost:27017
2019-05-17 10:59:37,470 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde46c1f8a0d1528842857b', description='null'}-localhost:27017] Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 9]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3999400}
2019-05-17 10:59:37,472 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde46c1f8a0d1528842857b', description='null'}-localhost:27017] Discovered cluster type of STANDALONE
2019-05-17 10:59:37,736 INFO org.mongodb.driver.connection [main] Opened connection [connectionId{localValue:2, serverValue:433}] to localhost:27017
2019-05-17 10:59:39,004 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence in collection: dbSequence
2019-05-17 10:59:39,014 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: { } in db.collection: coffeeshop.dbSequence
2019-05-17 10:59:39,084 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Started CoffeeShopApplication in 5.673 seconds (JVM running for 7.224)
2019-05-17 10:59:45,148 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8103-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-17 10:59:45,185 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-2] authenticating the JWT token in header 
2019-05-17 10:59:45,185 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] validating JWT token in header
2019-05-17 10:59:45,311 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 10:59:45,312 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 10:59:45,318 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-2] find user by name santu
2019-05-17 10:59:50,066 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-2] update order null
2019-05-17 10:59:53,118 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:00:06,761 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: URI is not absolute] with root cause
java.lang.IllegalArgumentException: URI is not absolute
	at java.net.URI.toURL(URI.java:1088)
	at org.springframework.http.client.SimpleClientHttpRequestFactory.createRequest(SimpleClientHttpRequestFactory.java:145)
	at org.springframework.http.client.support.HttpAccessor.createRequest(HttpAccessor.java:87)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:731)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:61)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$a25d638e.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:00:06,764 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-2] authenticating the JWT token in header 
2019-05-17 11:00:06,764 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] validating JWT token in header
2019-05-17 11:00:06,767 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:00:06,767 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:00:06,769 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-2] find user by name santu
2019-05-17 11:04:28,464 INFO org.mongodb.driver.connection [Thread-3] Closed connection [connectionId{localValue:2, serverValue:433}] to localhost:27017 because the pool has been closed.
2019-05-17 11:04:34,062 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Starting CoffeeShopApplication on wsmb-523 with PID 9864 (D:\Workspace\CoffeeShopApplication\target\classes started by sago0519 in D:\Workspace\CoffeeShopApplication)
2019-05-17 11:04:34,066 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] No active profile set, falling back to default profiles: default
2019-05-17 11:04:36,323 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2019-05-17 11:04:36,324 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-17 11:04:36,483 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2019-05-17 11:04:37,355 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-05-17 11:04:37,356 INFO org.mongodb.driver.cluster [main] Adding discovered server localhost:27017 to client view of cluster
2019-05-17 11:04:37,447 INFO org.mongodb.driver.connection [cluster-ClusterId{value='5cde47edf8a0d1268851238a', description='null'}-localhost:27017] Opened connection [connectionId{localValue:1, serverValue:434}] to localhost:27017
2019-05-17 11:04:37,455 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde47edf8a0d1268851238a', description='null'}-localhost:27017] Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 9]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=5730900}
2019-05-17 11:04:37,457 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde47edf8a0d1268851238a', description='null'}-localhost:27017] Discovered cluster type of STANDALONE
2019-05-17 11:04:37,778 INFO org.mongodb.driver.connection [main] Opened connection [connectionId{localValue:2, serverValue:435}] to localhost:27017
2019-05-17 11:04:39,034 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence in collection: dbSequence
2019-05-17 11:04:39,043 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: { } in db.collection: coffeeshop.dbSequence
2019-05-17 11:04:39,107 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Started CoffeeShopApplication in 5.857 seconds (JVM running for 7.465)
2019-05-17 11:04:57,344 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8103-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-17 11:04:57,370 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-2] authenticating the JWT token in header 
2019-05-17 11:04:57,371 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] validating JWT token in header
2019-05-17 11:04:57,495 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:04:57,495 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:04:57,501 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-2] find user by name santu
2019-05-17 11:04:57,720 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-2] update order null
2019-05-17 11:04:57,735 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:04:57,877 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://null:8103/coffeeshop/customers/9035514283": null; nested exception is java.net.UnknownHostException: null] with root cause
java.net.UnknownHostException: null
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1220)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1156)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1050)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:984)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$50c60d84.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:04:57,882 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-2] authenticating the JWT token in header 
2019-05-17 11:04:57,882 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] validating JWT token in header
2019-05-17 11:04:57,886 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:04:57,886 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:04:57,888 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-2] find user by name santu
2019-05-17 11:05:23,833 INFO org.mongodb.driver.connection [Thread-3] Closed connection [connectionId{localValue:2, serverValue:435}] to localhost:27017 because the pool has been closed.
2019-05-17 11:05:27,849 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Starting CoffeeShopApplication on wsmb-523 with PID 12728 (D:\Workspace\CoffeeShopApplication\target\classes started by sago0519 in D:\Workspace\CoffeeShopApplication)
2019-05-17 11:05:27,854 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] No active profile set, falling back to default profiles: default
2019-05-17 11:05:29,919 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2019-05-17 11:05:29,920 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-17 11:05:30,084 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2019-05-17 11:05:30,945 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-05-17 11:05:30,945 INFO org.mongodb.driver.cluster [main] Adding discovered server localhost:27017 to client view of cluster
2019-05-17 11:05:31,135 INFO org.mongodb.driver.connection [cluster-ClusterId{value='5cde4822f8a0d131b849989f', description='null'}-localhost:27017] Opened connection [connectionId{localValue:1, serverValue:436}] to localhost:27017
2019-05-17 11:05:31,175 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde4822f8a0d131b849989f', description='null'}-localhost:27017] Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 9]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=36674300}
2019-05-17 11:05:31,178 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde4822f8a0d131b849989f', description='null'}-localhost:27017] Discovered cluster type of STANDALONE
2019-05-17 11:05:31,456 INFO org.mongodb.driver.connection [main] Opened connection [connectionId{localValue:2, serverValue:437}] to localhost:27017
2019-05-17 11:05:32,632 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence in collection: dbSequence
2019-05-17 11:05:32,640 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: { } in db.collection: coffeeshop.dbSequence
2019-05-17 11:05:32,697 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Started CoffeeShopApplication in 5.496 seconds (JVM running for 6.953)
2019-05-17 11:05:40,758 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8103-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-17 11:05:40,799 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-1] authenticating the JWT token in header 
2019-05-17 11:05:40,800 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-1] validating JWT token in header
2019-05-17 11:05:40,937 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:05:40,937 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:05:40,943 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-1] find user by name santu
2019-05-17 11:05:41,170 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-1] update order null
2019-05-17 11:05:41,206 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:05:41,324 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-4] authenticating the JWT token in header 
2019-05-17 11:05:41,340 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-4] authenticating the JWT token in header 
2019-05-17 11:05:41,391 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:83)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$51b106cf.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:05:41,393 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-1] authenticating the JWT token in header 
2019-05-17 11:05:41,393 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-1] validating JWT token in header
2019-05-17 11:05:41,397 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:05:41,397 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:05:41,399 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-1] find user by name santu
2019-05-17 11:06:09,679 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:06:09,679 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-6] validating JWT token in header
2019-05-17 11:06:09,684 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:06:09,685 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:06:09,687 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-6] find user by name santu
2019-05-17 11:06:16,705 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-6] update order null
2019-05-17 11:06:51,212 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:06:51,219 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-7] authenticating the JWT token in header 
2019-05-17 11:06:51,220 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-7] authenticating the JWT token in header 
2019-05-17 11:06:51,227 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:83)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$51b106cf.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:06:51,228 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:06:51,228 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-6] validating JWT token in header
2019-05-17 11:06:51,232 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:06:51,233 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:06:51,234 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-6] find user by name santu
2019-05-17 11:06:51,282 INFO org.mongodb.driver.connection [Thread-3] Closed connection [connectionId{localValue:2, serverValue:437}] to localhost:27017 because the pool has been closed.
2019-05-17 11:06:56,818 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Starting CoffeeShopApplication on wsmb-523 with PID 19388 (D:\Workspace\CoffeeShopApplication\target\classes started by sago0519 in D:\Workspace\CoffeeShopApplication)
2019-05-17 11:06:56,823 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] No active profile set, falling back to default profiles: default
2019-05-17 11:06:59,140 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2019-05-17 11:06:59,140 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-17 11:06:59,271 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2019-05-17 11:07:00,053 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-05-17 11:07:00,053 INFO org.mongodb.driver.cluster [main] Adding discovered server localhost:27017 to client view of cluster
2019-05-17 11:07:00,137 INFO org.mongodb.driver.connection [cluster-ClusterId{value='5cde487cf8a0d14bbcb4a849', description='null'}-localhost:27017] Opened connection [connectionId{localValue:1, serverValue:438}] to localhost:27017
2019-05-17 11:07:00,142 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde487cf8a0d14bbcb4a849', description='null'}-localhost:27017] Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 9]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3401800}
2019-05-17 11:07:00,144 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde487cf8a0d14bbcb4a849', description='null'}-localhost:27017] Discovered cluster type of STANDALONE
2019-05-17 11:07:00,433 INFO org.mongodb.driver.connection [main] Opened connection [connectionId{localValue:2, serverValue:439}] to localhost:27017
2019-05-17 11:07:01,696 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence in collection: dbSequence
2019-05-17 11:07:01,705 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: { } in db.collection: coffeeshop.dbSequence
2019-05-17 11:07:01,800 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Started CoffeeShopApplication in 5.603 seconds (JVM running for 7.193)
2019-05-17 11:07:04,585 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8103-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-17 11:07:04,617 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-2] authenticating the JWT token in header 
2019-05-17 11:07:04,618 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] validating JWT token in header
2019-05-17 11:07:04,817 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:07:04,818 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:07:04,833 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-2] find user by name santu
2019-05-17 11:07:07,705 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-2] update order null
2019-05-17 11:07:22,509 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:07:49,423 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-3] authenticating the JWT token in header 
2019-05-17 11:07:49,436 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-3] authenticating the JWT token in header 
2019-05-17 11:08:21,780 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:83)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$547c135f.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:08:21,782 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-2] authenticating the JWT token in header 
2019-05-17 11:08:21,782 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] validating JWT token in header
2019-05-17 11:08:21,786 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:08:21,787 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:08:21,789 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-2] find user by name santu
2019-05-17 11:09:05,775 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:09:05,776 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-6] validating JWT token in header
2019-05-17 11:09:05,780 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:09:05,781 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:09:05,783 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-6] find user by name santu
2019-05-17 11:09:05,785 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-6]  list all Customers
2019-05-17 11:09:05,789 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] find using query: { } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:09:46,218 INFO org.mongodb.driver.connection [Thread-3] Closed connection [connectionId{localValue:2, serverValue:439}] to localhost:27017 because the pool has been closed.
2019-05-17 11:09:51,660 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Starting CoffeeShopApplication on wsmb-523 with PID 21024 (D:\Workspace\CoffeeShopApplication\target\classes started by sago0519 in D:\Workspace\CoffeeShopApplication)
2019-05-17 11:09:51,664 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] No active profile set, falling back to default profiles: default
2019-05-17 11:09:53,895 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2019-05-17 11:09:53,895 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-17 11:09:54,074 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2019-05-17 11:09:54,828 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-05-17 11:09:54,828 INFO org.mongodb.driver.cluster [main] Adding discovered server localhost:27017 to client view of cluster
2019-05-17 11:09:54,908 INFO org.mongodb.driver.connection [cluster-ClusterId{value='5cde492af8a0d15220588112', description='null'}-localhost:27017] Opened connection [connectionId{localValue:1, serverValue:440}] to localhost:27017
2019-05-17 11:09:54,914 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde492af8a0d15220588112', description='null'}-localhost:27017] Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 9]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3930400}
2019-05-17 11:09:54,917 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde492af8a0d15220588112', description='null'}-localhost:27017] Discovered cluster type of STANDALONE
2019-05-17 11:09:55,230 INFO org.mongodb.driver.connection [main] Opened connection [connectionId{localValue:2, serverValue:441}] to localhost:27017
2019-05-17 11:09:56,630 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence in collection: dbSequence
2019-05-17 11:09:56,639 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: { } in db.collection: coffeeshop.dbSequence
2019-05-17 11:09:56,708 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Started CoffeeShopApplication in 5.695 seconds (JVM running for 7.192)
2019-05-17 11:10:05,800 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8103-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-17 11:10:05,828 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL was not normalized.
	at org.springframework.security.web.firewall.StrictHttpFirewall.getFirewalledRequest(StrictHttpFirewall.java:296)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:194)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:10:05,837 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-2] authenticating the JWT token in header 
2019-05-17 11:10:05,837 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] validating JWT token in header
2019-05-17 11:10:05,973 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:10:05,974 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:10:05,981 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-2] find user by name santu
2019-05-17 11:10:13,766 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-4] authenticating the JWT token in header 
2019-05-17 11:10:13,766 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-4] validating JWT token in header
2019-05-17 11:10:13,771 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:10:13,772 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:10:13,773 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-4] find user by name santu
2019-05-17 11:10:13,776 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-4]  list all Customers
2019-05-17 11:10:13,780 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] find using query: { } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:10:27,545 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-5] authenticating the JWT token in header 
2019-05-17 11:10:27,546 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-5] validating JWT token in header
2019-05-17 11:10:27,550 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:10:27,551 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:10:27,553 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-5] find user by name santu
2019-05-17 11:10:31,334 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-5] update order null
2019-05-17 11:10:31,864 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:10:31,915 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:10:31,923 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:10:31,945 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-5] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:83)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$263ed447.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:10:31,946 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-5] authenticating the JWT token in header 
2019-05-17 11:10:31,946 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-5] validating JWT token in header
2019-05-17 11:10:31,950 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:10:31,951 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:10:31,952 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-5] find user by name santu
2019-05-17 11:10:49,429 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-9] authenticating the JWT token in header 
2019-05-17 11:10:49,429 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-9] validating JWT token in header
2019-05-17 11:10:49,433 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:10:49,433 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:10:49,434 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-9] find user by name santu
2019-05-17 11:10:52,479 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-9] update order null
2019-05-17 11:11:14,548 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:12:04,275 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-10] authenticating the JWT token in header 
2019-05-17 11:12:04,276 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-10] authenticating the JWT token in header 
2019-05-17 11:13:52,382 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-9] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:83)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$263ed447.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:13:52,383 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-9] authenticating the JWT token in header 
2019-05-17 11:13:52,383 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-9] validating JWT token in header
2019-05-17 11:13:52,389 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:13:52,389 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:13:52,391 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-9] find user by name santu
2019-05-17 11:14:13,964 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-3] authenticating the JWT token in header 
2019-05-17 11:14:13,964 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-3] validating JWT token in header
2019-05-17 11:14:13,967 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:14:13,968 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:14:13,969 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-3] find user by name santu
2019-05-17 11:14:13,973 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-3]  find one customer by ID 9035514283
2019-05-17 11:14:13,974 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "phone" : "9035514283" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:14:13,974 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "9035514283" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:14:13,976 ERROR com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-3] No csutomer with given phone number present 9035514283
2019-05-17 11:14:43,915 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-4] authenticating the JWT token in header 
2019-05-17 11:14:43,915 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-4] validating JWT token in header
2019-05-17 11:14:43,919 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:14:43,919 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:14:43,921 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-4] find user by name santu
2019-05-17 11:14:43,922 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-4]  find one customer by ID 9035514243
2019-05-17 11:14:43,923 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "phone" : "9035514243" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:14:43,923 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "_id" : "9035514243" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:15:19,601 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:15:19,602 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-6] validating JWT token in header
2019-05-17 11:15:19,616 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:15:19,617 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:15:19,619 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-6] find user by name santu
2019-05-17 11:15:26,206 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-6] update order null
2019-05-17 11:15:26,847 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:15:35,909 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-5] authenticating the JWT token in header 
2019-05-17 11:15:35,909 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-5] authenticating the JWT token in header 
2019-05-17 11:15:52,000 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:83)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$263ed447.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:15:52,001 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:15:52,001 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-6] validating JWT token in header
2019-05-17 11:15:52,005 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:15:52,006 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:15:52,007 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-6] find user by name santu
2019-05-17 11:16:01,146 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-10] authenticating the JWT token in header 
2019-05-17 11:16:01,147 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-10] validating JWT token in header
2019-05-17 11:16:01,150 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:16:01,151 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:16:01,154 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-10] find user by name santu
2019-05-17 11:16:06,014 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-10] update order null
2019-05-17 11:16:11,543 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:16:41,602 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-1] authenticating the JWT token in header 
2019-05-17 11:16:41,603 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-1] authenticating the JWT token in header 
2019-05-17 11:18:27,518 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:83)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$263ed447.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:18:27,519 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-10] authenticating the JWT token in header 
2019-05-17 11:18:27,519 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-10] validating JWT token in header
2019-05-17 11:18:27,522 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:18:27,522 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:18:27,524 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-10] find user by name santu
2019-05-17 11:19:06,186 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-3] authenticating the JWT token in header 
2019-05-17 11:19:22,878 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-3] validating JWT token in header
2019-05-17 11:19:22,883 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:19:22,883 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:19:22,884 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-3] find user by name santu
2019-05-17 11:19:24,381 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-3] update order null
2019-05-17 11:19:26,526 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:19:28,991 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-4] authenticating the JWT token in header 
2019-05-17 11:21:42,211 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-4] authenticating the JWT token in header 
2019-05-17 11:21:42,785 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-3] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:83)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$263ed447.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:21:42,785 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-3] authenticating the JWT token in header 
2019-05-17 11:21:43,548 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-3] validating JWT token in header
2019-05-17 11:21:43,552 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:21:43,553 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:21:43,554 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-3] find user by name santu
2019-05-17 11:21:48,159 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:21:51,749 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-6] validating JWT token in header
2019-05-17 11:21:51,752 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:21:51,753 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:21:51,755 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-6] find user by name santu
2019-05-17 11:21:52,797 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-6] update order null
2019-05-17 11:22:06,023 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:23:09,436 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-8] authenticating the JWT token in header 
2019-05-17 11:23:09,438 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-8] authenticating the JWT token in header 
2019-05-17 11:23:09,443 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null] with root cause
org.springframework.web.client.HttpClientErrorException$Forbidden: 403 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:83)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$263ed447.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:23:09,444 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:23:09,444 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-6] validating JWT token in header
2019-05-17 11:23:09,448 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:23:09,449 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:23:09,451 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-6] find user by name santu
2019-05-17 11:23:09,504 INFO org.mongodb.driver.connection [Thread-3] Closed connection [connectionId{localValue:2, serverValue:441}] to localhost:27017 because the pool has been closed.
2019-05-17 11:23:14,976 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Starting CoffeeShopApplication on wsmb-523 with PID 12416 (D:\Workspace\CoffeeShopApplication\target\classes started by sago0519 in D:\Workspace\CoffeeShopApplication)
2019-05-17 11:23:14,983 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] No active profile set, falling back to default profiles: default
2019-05-17 11:23:17,307 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2019-05-17 11:23:17,308 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-17 11:23:17,465 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2019-05-17 11:23:18,359 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-05-17 11:23:18,360 INFO org.mongodb.driver.cluster [main] Adding discovered server localhost:27017 to client view of cluster
2019-05-17 11:23:18,477 INFO org.mongodb.driver.connection [cluster-ClusterId{value='5cde4c4ef8a0d13080a2ddd2', description='null'}-localhost:27017] Opened connection [connectionId{localValue:1, serverValue:444}] to localhost:27017
2019-05-17 11:23:18,482 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde4c4ef8a0d13080a2ddd2', description='null'}-localhost:27017] Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 9]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=3388800}
2019-05-17 11:23:18,484 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde4c4ef8a0d13080a2ddd2', description='null'}-localhost:27017] Discovered cluster type of STANDALONE
2019-05-17 11:23:18,812 INFO org.mongodb.driver.connection [main] Opened connection [connectionId{localValue:2, serverValue:445}] to localhost:27017
2019-05-17 11:23:20,067 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence in collection: dbSequence
2019-05-17 11:23:20,076 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: { } in db.collection: coffeeshop.dbSequence
2019-05-17 11:23:20,145 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Started CoffeeShopApplication in 5.807 seconds (JVM running for 7.404)
2019-05-17 11:23:33,182 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8103-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-17 11:23:33,220 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-2] authenticating the JWT token in header 
2019-05-17 11:23:35,636 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] validating JWT token in header
2019-05-17 11:23:35,770 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:23:35,772 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:23:35,778 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-2] find user by name santu
2019-05-17 11:23:37,006 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-2] update order null
2019-05-17 11:23:37,565 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:23:38,297 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-3] authenticating the JWT token in header 
2019-05-17 11:23:38,813 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-3] validating JWT token in header
2019-05-17 11:23:38,818 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:23:38,819 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:23:38,821 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-3] find user by name santu
2019-05-17 11:23:38,828 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-3]  find one customer by ID 9035514243
2019-05-17 11:23:38,829 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "phone" : "9035514243" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:23:38,830 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "9035514243" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:23:38,880 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] Saving Document containing fields: [_id, items, customer, date, _class]
2019-05-17 11:23:56,305 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-4] authenticating the JWT token in header 
2019-05-17 11:23:59,348 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-4] validating JWT token in header
2019-05-17 11:23:59,352 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:23:59,353 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:23:59,355 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-4] find user by name santu
2019-05-17 11:23:59,356 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-4] update order null
2019-05-17 11:23:59,357 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:23:59,361 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-5] authenticating the JWT token in header 
2019-05-17 11:23:59,362 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-5] validating JWT token in header
2019-05-17 11:23:59,365 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:23:59,365 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:23:59,366 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-5] find user by name santu
2019-05-17 11:23:59,368 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-5]  find one customer by ID 9035514243
2019-05-17 11:23:59,368 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] findOne using query: { "phone" : "9035514243" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:23:59,369 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] findOne using query: { "_id" : "9035514243" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:23:59,374 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] Saving Document containing fields: [_id, items, customer, date, _class]
2019-05-17 11:24:01,188 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:24:01,188 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-6] validating JWT token in header
2019-05-17 11:24:01,192 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:24:01,192 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:24:01,194 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-6] find user by name santu
2019-05-17 11:24:01,196 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-6] update order null
2019-05-17 11:24:01,197 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:24:01,201 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-7] authenticating the JWT token in header 
2019-05-17 11:24:01,201 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-7] validating JWT token in header
2019-05-17 11:24:01,205 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:24:01,205 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:24:01,206 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-7] find user by name santu
2019-05-17 11:24:01,208 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-7]  find one customer by ID 9035514243
2019-05-17 11:24:01,209 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "phone" : "9035514243" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:24:01,209 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "_id" : "9035514243" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:24:01,213 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] Saving Document containing fields: [_id, items, customer, date, _class]
2019-05-17 11:24:02,072 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-8] authenticating the JWT token in header 
2019-05-17 11:24:02,073 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-8] validating JWT token in header
2019-05-17 11:24:02,076 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-8] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:24:02,077 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-8] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:24:02,079 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-8] find user by name santu
2019-05-17 11:24:02,081 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-8] update order null
2019-05-17 11:24:02,082 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-8] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:24:02,089 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-9] authenticating the JWT token in header 
2019-05-17 11:24:02,089 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-9] validating JWT token in header
2019-05-17 11:24:02,092 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:24:02,093 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:24:02,095 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-9] find user by name santu
2019-05-17 11:24:02,096 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-9]  find one customer by ID 9035514243
2019-05-17 11:24:02,097 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "phone" : "9035514243" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:24:02,097 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "_id" : "9035514243" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:24:02,101 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-8] Saving Document containing fields: [_id, items, customer, date, _class]
2019-05-17 11:24:02,737 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-10] authenticating the JWT token in header 
2019-05-17 11:24:02,738 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-10] validating JWT token in header
2019-05-17 11:24:02,742 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:24:02,742 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:24:02,744 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-10] find user by name santu
2019-05-17 11:24:02,746 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-10] update order null
2019-05-17 11:24:02,748 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:24:02,752 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-1] authenticating the JWT token in header 
2019-05-17 11:24:02,752 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-1] validating JWT token in header
2019-05-17 11:24:02,756 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:24:02,756 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:24:02,758 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-1] find user by name santu
2019-05-17 11:24:02,759 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-1]  find one customer by ID 9035514243
2019-05-17 11:24:02,760 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findOne using query: { "phone" : "9035514243" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:24:02,760 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-1] findOne using query: { "_id" : "9035514243" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:24:02,764 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] Saving Document containing fields: [_id, items, customer, date, _class]
2019-05-17 11:29:41,975 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-4] authenticating the JWT token in header 
2019-05-17 11:29:41,976 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-4] validating JWT token in header
2019-05-17 11:29:41,980 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:29:41,981 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:29:41,983 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-4] find user by name santu
2019-05-17 11:29:41,985 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-4] update order null
2019-05-17 11:29:41,986 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:29:41,995 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-7] authenticating the JWT token in header 
2019-05-17 11:29:41,995 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-7] validating JWT token in header
2019-05-17 11:29:41,998 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:29:41,999 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:29:42,000 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-7] find user by name santu
2019-05-17 11:29:42,001 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-7]  find one customer by ID 9035514263
2019-05-17 11:29:42,002 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "phone" : "9035514263" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:29:42,003 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "_id" : "9035514263" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:29:42,007 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] Saving Document containing fields: [_id, items, customer, date, _class]
2019-05-17 11:30:10,293 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:30:10,293 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-6] validating JWT token in header
2019-05-17 11:30:10,296 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:30:10,297 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:30:10,299 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-6] find user by name santu
2019-05-17 11:30:10,301 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-6] update order null
2019-05-17 11:30:10,303 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:30:10,307 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-9] authenticating the JWT token in header 
2019-05-17 11:30:10,307 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-9] validating JWT token in header
2019-05-17 11:30:10,310 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:30:10,311 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:30:10,312 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-9] find user by name santu
2019-05-17 11:30:10,313 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-9]  find one customer by ID 9035514763
2019-05-17 11:30:10,314 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "phone" : "9035514763" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:30:10,315 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-9] findOne using query: { "_id" : "9035514763" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:30:10,316 ERROR com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-9] No csutomer with given phone number present 9035514763
2019-05-17 11:30:10,345 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$NotFound: 404 null] with root cause
org.springframework.web.client.HttpClientErrorException$NotFound: 404 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:85)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$46e5e082.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:30:10,350 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-6] authenticating the JWT token in header 
2019-05-17 11:30:10,350 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-6] validating JWT token in header
2019-05-17 11:30:10,353 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:30:10,354 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-6] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:30:10,355 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-6] find user by name santu
2019-05-17 11:30:45,614 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-10] authenticating the JWT token in header 
2019-05-17 11:30:45,614 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-10] validating JWT token in header
2019-05-17 11:30:45,617 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:30:45,618 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:30:45,619 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-10] find user by name santu
2019-05-17 11:30:45,622 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-10] update order null
2019-05-17 11:30:45,623 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:30:45,627 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-3] authenticating the JWT token in header 
2019-05-17 11:30:45,627 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-3] validating JWT token in header
2019-05-17 11:30:45,630 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:30:45,631 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:30:45,633 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-3] find user by name santu
2019-05-17 11:30:45,634 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-3]  find one customer by ID 9035514763
2019-05-17 11:30:45,635 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "phone" : "9035514763" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:30:45,635 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "9035514763" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:30:45,637 ERROR com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-3] No csutomer with given phone number present 9035514763
2019-05-17 11:30:45,642 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$NotFound: 404 null] with root cause
org.springframework.web.client.HttpClientErrorException$NotFound: 404 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:85)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$46e5e082.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:30:45,643 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-10] authenticating the JWT token in header 
2019-05-17 11:30:45,643 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-10] validating JWT token in header
2019-05-17 11:30:45,646 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:30:45,646 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-10] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:30:45,648 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-10] find user by name santu
2019-05-17 11:31:16,623 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-7] authenticating the JWT token in header 
2019-05-17 11:31:16,623 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-7] validating JWT token in header
2019-05-17 11:31:16,628 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:31:16,629 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:31:16,630 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-7] find user by name santu
2019-05-17 11:31:21,413 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-7] update order null
2019-05-17 11:31:28,451 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:31:32,403 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-4] authenticating the JWT token in header 
2019-05-17 11:31:32,403 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-4] validating JWT token in header
2019-05-17 11:31:32,406 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:31:32,406 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:31:32,407 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-4] find user by name santu
2019-05-17 11:31:32,408 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-4]  find one customer by ID 9035514763
2019-05-17 11:31:32,409 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "phone" : "9035514763" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:31:32,409 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-4] findOne using query: { "_id" : "9035514763" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:31:32,410 ERROR com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-4] No csutomer with given phone number present 9035514763
2019-05-17 11:31:43,819 ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet] [http-nio-8103-exec-7] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException$NotFound: 404 null] with root cause
org.springframework.web.client.HttpClientErrorException$NotFound: 404 null
	at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:85)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:102)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:778)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:736)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.RestServiceCaller.getCustomerObject(RestServiceCaller.java:35)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl.save(OrderServiceImpl.java:62)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$FastClassBySpringCGLIB$$7ffac5a3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at com.netcracker.CoffeeShopApplication.ordermanagement.services.OrderServiceImpl$$EnhancerBySpringCGLIB$$46e5e082.save(<generated>)
	at com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController.updateOrder(OrderController.java:68)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter.doFilter(AuthenticationFilter.java:34)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2019-05-17 11:31:43,820 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-7] authenticating the JWT token in header 
2019-05-17 11:31:43,820 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-7] validating JWT token in header
2019-05-17 11:31:43,823 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:31:43,824 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-7] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:31:43,826 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-7] find user by name santu
2019-05-17 11:33:13,672 INFO org.mongodb.driver.connection [Thread-3] Closed connection [connectionId{localValue:2, serverValue:445}] to localhost:27017 because the pool has been closed.
2019-05-17 11:33:18,933 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Starting CoffeeShopApplication on wsmb-523 with PID 9680 (D:\Workspace\CoffeeShopApplication\target\classes started by sago0519 in D:\Workspace\CoffeeShopApplication)
2019-05-17 11:33:18,937 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] No active profile set, falling back to default profiles: default
2019-05-17 11:33:21,151 INFO org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2019-05-17 11:33:21,151 INFO org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-17 11:33:21,286 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2019-05-17 11:33:22,040 INFO org.mongodb.driver.cluster [main] Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2019-05-17 11:33:22,040 INFO org.mongodb.driver.cluster [main] Adding discovered server localhost:27017 to client view of cluster
2019-05-17 11:33:22,112 INFO org.mongodb.driver.connection [cluster-ClusterId{value='5cde4eaaf8a0d125d08b4dd1', description='null'}-localhost:27017] Opened connection [connectionId{localValue:1, serverValue:450}] to localhost:27017
2019-05-17 11:33:22,117 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde4eaaf8a0d125d08b4dd1', description='null'}-localhost:27017] Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 0, 9]}, minWireVersion=0, maxWireVersion=7, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2990300}
2019-05-17 11:33:22,118 INFO org.mongodb.driver.cluster [cluster-ClusterId{value='5cde4eaaf8a0d125d08b4dd1', description='null'}-localhost:27017] Discovered cluster type of STANDALONE
2019-05-17 11:33:22,365 INFO org.mongodb.driver.connection [main] Opened connection [connectionId{localValue:2, serverValue:451}] to localhost:27017
2019-05-17 11:33:23,572 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence in collection: dbSequence
2019-05-17 11:33:23,580 DEBUG org.springframework.data.mongodb.core.MongoTemplate [main] findOne using query: { "_id" : "OrderSequence" } fields: { } in db.collection: coffeeshop.dbSequence
2019-05-17 11:33:23,645 INFO com.netcracker.CoffeeShopApplication.CoffeeShopApplication [main] Started CoffeeShopApplication in 5.365 seconds (JVM running for 6.859)
2019-05-17 11:33:27,959 INFO org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8103-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-17 11:33:27,987 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-2] authenticating the JWT token in header 
2019-05-17 11:33:27,987 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-2] validating JWT token in header
2019-05-17 11:33:28,144 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:33:28,145 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:33:28,152 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-2] find user by name santu
2019-05-17 11:33:31,253 INFO com.netcracker.CoffeeShopApplication.ordermanagement.controllers.OrderController [http-nio-8103-exec-2] update order null
2019-05-17 11:33:41,008 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] findAndModify using query: { "_id" : "OrderSequence" } fields: Document{{}} sort: null for class: class com.netcracker.CoffeeShopApplication.ordermanagement.models.DbSequence and update: { "$inc" : { "seq" : 1 } } in collection: dbSequence
2019-05-17 11:33:45,042 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-3] authenticating the JWT token in header 
2019-05-17 11:33:45,042 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-3] validating JWT token in header
2019-05-17 11:33:45,048 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:33:45,049 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:33:45,051 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-3] find user by name santu
2019-05-17 11:33:45,059 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-3]  find one customer by ID 9035514763
2019-05-17 11:33:45,059 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "phone" : "9035514763" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.customermanagement.models.Customer in collection: customer
2019-05-17 11:33:45,060 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-3] findOne using query: { "_id" : "9035514763" } fields: { } in db.collection: coffeeshop.customer
2019-05-17 11:33:45,061 ERROR com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-3] No csutomer with given phone number present 9035514763
2019-05-17 11:33:51,698 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationFilter [http-nio-8103-exec-5] authenticating the JWT token in header 
2019-05-17 11:33:51,698 INFO com.netcracker.CoffeeShopApplication.authenticationservice.controllers.AuthenticationTokenProvider [http-nio-8103-exec-5] validating JWT token in header
2019-05-17 11:33:51,701 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] findOne using query: { "userName" : "santu" } fields: Document{{}} for class: class com.netcracker.CoffeeShopApplication.authenticationservice.model.User in collection: user
2019-05-17 11:33:51,702 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] findOne using query: { "_id" : "santu" } fields: { } in db.collection: coffeeshop.user
2019-05-17 11:33:51,704 INFO com.netcracker.CoffeeShopApplication.security.UserDetailsServiceImpl [http-nio-8103-exec-5] find user by name santu
2019-05-17 11:33:51,726 INFO com.netcracker.CoffeeShopApplication.customermanagement.controllers.CustomerController [http-nio-8103-exec-5]  add a new customer with ID 9035514763
2019-05-17 11:33:51,736 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-5] Saving Document containing fields: [_id, name, email, _class]
2019-05-17 11:33:55,542 DEBUG org.springframework.data.mongodb.core.MongoTemplate [http-nio-8103-exec-2] Saving Document containing fields: [_id, items, date, _class]
